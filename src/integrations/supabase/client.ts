
// This file is automatically generated. Do not edit it directly.
import { createClient } from '@supabase/supabase-js';
import type { Database } from './types';

const SUPABASE_URL = "https://vqdlsidkucrownbfuouq.supabase.co";
const SUPABASE_PUBLISHABLE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZxZGxzaWRrdWNyb3duYmZ1b3VxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQzMDc4NDgsImV4cCI6MjA0OTg4Mzg0OH0.ARDnjN_J_bz74zQfV7IRDrq6ZL5-xs9L21zI3eG6O5Y";

// Import the supabase client like this:
// import { supabase } from "@/integrations/supabase/client";

export const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY);

/**
 * Check the health status of the Supabase connection
 * @returns Object containing health status and any error message
 */
export const checkSupabaseHealth = async (): Promise<{ isHealthy: boolean, error?: string }> => {
  try {
    // Simple query to test the connection
    const { data, error } = await supabase.from('system_settings').select('id').limit(1);
    
    if (error) {
      return {
        isHealthy: false,
        error: `Database error: ${error.message}`
      };
    }
    
    return {
      isHealthy: true
    };
  } catch (err) {
    const errorMessage = err instanceof Error ? err.message : 'Unknown error';
    return {
      isHealthy: false,
      error: `Connection error: ${errorMessage}`
    };
  }
};
